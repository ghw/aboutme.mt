<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>6.7. 桌面环境</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手册" /><link rel="up" href="x11.html" title="Chapter 6. X Window 系统" /><link rel="prev" href="x-xdm.html" title="6.6. X 显示管理器" /><link rel="next" href="x11-understanding.html" title="6.8. 故障排除" /><link rel="copyright" href="legalnotice.html" title="版权声明" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.7. 桌面环境</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="x-xdm.html">Prev</a> </td><th width="60%" align="center">Chapter 6. X Window 系统</th><td width="20%" align="right"> <a accesskey="n" href="x11-understanding.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="x11-wm"></a>6.7. 桌面环境</h2></div></div></div><p>这节介绍 FreeBSD 上基于 X 的不同的桌面环境。 <span class="quote">“<span class="quote">桌面环境</span>”</span> 可能仅仅是一个简单的窗口管理器，
        也可能是个像 <span class="application">KDE</span> 或者 <span class="application">GNOME</span> 这样完整的应用套件。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-gnome"></a>6.7.1. GNOME</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-gnome-about"></a>6.7.1.1. 关于 GNOME</h4></div></div></div><a id="idp71379280" class="indexterm"></a><p><span class="application">GNOME</span> 是个用户界面友好的桌面环境，
        能够使用户很容易地使用和配置他们的计算机。 <span class="application">GNOME</span> 包括一个面板(用来启动应用程序和显示状态)，
        一个桌面(存放数据和应用程序的地方)， 一套标准的桌面工具和应用程序， 和一套与其他人相互协同工作的协议集。
        其他操作系统的用户在使用 <span class="application">GNOME</span> 提供的强大的图形环境时也能很好的适应。
        更多的关于 FreeBSD 上 <span class="application">GNOME</span> 的信息，
        可以在<a class="link" href="http://www.FreeBSD.org/gnome" target="_top">FreeBSD GNOME Project</a> 的网站上找到。
        此外， 这个网站也提供了相当详尽的关于安装、 配置和管理 <span class="application">GNOME</span> 的常见问题解答 (FAQ)。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-gnome-install"></a>6.7.1.2. 安装 GNOME</h4></div></div></div><p>这个软件可以很容易地通过预编译包或 Ports Collection 来安装：</p><p>通过网络安装 <span class="application">GNOME</span> ， 只需要输入：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add -r gnome2</code></strong></pre><p>如果是 <span class="application">pkgng</span> 用户， 则使用这个命令：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg install gnome2</code></strong></pre><p>从源代码编译 <span class="application">GNOME</span> ， 可以从 ports tree 安装：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/x11/gnome2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p><span class="application">GNOME</span> 需要挂载 <code class="filename">/proc</code> 文件系统才能正常工作。 添加如下内容：</p><pre class="programlisting">proc           /proc       procfs  rw  0   0</pre><p>到 <code class="filename">/etc/fstab</code> 中，以便系统启动时自动挂载 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=procfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">procfs</span>(5)</span></a> 。</p><p>一旦安装好了 <span class="application">GNOME</span> ，就必须告诉 X server 启动
        <span class="application">GNOME</span> 而不是默认窗口管理器。</p><p>最简单的启动 <span class="application">GNOME</span> 的方法是使用 <span class="application">GDM</span> ，
        GNOME 启动管理器。<span class="application">GDM</span> 是 <span class="application">GNOME</span> 桌面的一部分，
        尽管默认是禁止启动的。 要启用它， 可以通过在 <code class="filename">/etc/rc.conf</code> 中加入以下这行：</p><pre class="programlisting">gdm_enable="YES"</pre><p>这样在您重启计算机时，<span class="application">GDM</span> 将自动允许：</p><p>通常我们希望在 <span class="application">GDM</span> 启动时，同时启动所有 <span class="application">GNOME</span> 服务，
        可以将以下这行加入  <code class="filename">/etc/rc.conf</code> 文件中。</p><pre class="programlisting">gnome_enable="YES"</pre><p><span class="application">GNOME</span> 也可以通过名为 <code class="filename">.xinitrc</code> 文件里添加命令行来启动。
        如果已经有了自定义的 <code class="filename">.xinitrc</code> ，
        将启动当前窗口管理器的那一行改为启动 <span class="application">/usr/local/bin/gnome-session</span> 就可以了。 如果还没有，
        那么只需简单地执行以下命令：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>echo "/usr/local/bin/gnome-session" &gt; ~/.xinitrc</code></strong></pre><p>接下来， 输入 <code class="command">startx</code> ，<span class="application">GNOME</span> 桌面环境就启动了。</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">如果之前使用了一些旧式的显示管理器， 例如 <span class="application">XDM</span> ， 则这样做无效。
            此时应建立一个可执行的 <code class="filename">.xsession</code> 文件， 其中包含同样的命令。
            要完成这项工作， 需要用 <span class="application">/usr/local/bin/gnome-session</span> 取代取代现有的窗口管理器：</p></div><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>echo "#!/bin/sh" &gt; ~/.xsession</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>echo "/usr/local/bin/gnome-session" &gt;&gt; ~/.xsession</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>chmod +x ~/.xsession</code></strong></pre><p>另外一种选择是配置显示管理器允许在登录时选择的窗口管理器；
        在 <a class="link" href="x11-wm.html#x11-wm-kde-details" title="6.7.3. 有关 KDE 的更多细节">KDE 细节</a> 章节中介绍关于如何为 <span class="application">KDM</span> 进行这样的配置。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-kde"></a>6.7.2. KDE</h3></div></div></div><a id="idp71418320" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-kde-about"></a>6.7.2.1. 关于 KDE</h4></div></div></div><p><span class="application">KDE</span> 是一个易于使用的现代桌面环境。
	  <span class="application">KDE</span> 有很多很好的特性：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>一个美丽的现代的桌面</p></li><li class="listitem"><p>一个完美集成网络环境的桌面</p></li><li class="listitem"><p>一个集成帮助系统， 能够方便、 高效地帮助您使用 <span class="application">KDE</span> 桌面和它的应用程序</p></li><li class="listitem"><p>所有的 <span class="application">KDE</span> 应用程序具有统一的外观</p></li><li class="listitem"><p>标准的菜单和工具栏， 键盘布局， 颜色配置等</p></li><li class="listitem"><p>国际化： <span class="application">KDE</span> 可以使用超过 55 种语言</p></li><li class="listitem"><p>集中化、 统一的对话框驱动的桌面配置</p></li><li class="listitem"><p>有大量的 <span class="application">KDE</span> 应用程序可供选择</p></li></ul></div><p><span class="application">KDE</span> 自带的网页浏览器名叫 <span class="application">Konqueror</span> ，
        它是运行于 <span class="trademark">UNIX</span>® 系统上的其它浏览器的一个强大的竞争对手。关于 <span class="application">KDE</span> 更多详情，
        可以访问, <a class="link" href="http://www.kde.org/" target="_top">KDE 网站</a>。
        与 FreeBSD 相关的 <span class="application">KDE</span> 信息和资源， 参阅 <a class="link" href="http://freebsd.kde.org/" target="_top">KDE/FreeBSD initiative</a>'s 网站。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-kde-install"></a>6.7.2.2. 安装 KDE</h4></div></div></div><p>与 <span class="application">GNOME</span> 和其它桌面环境类似， 这个软件可以很容易地通过预编译包或 Ports Collection 来安装：</p><p>通过网络安装 <span class="application">KDE 4</span> 预编译包， 使用：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add -r kde4</code></strong></pre><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">pkg_add</span>(1)</span></a> 就会自动的下载最新版的应用程序。</p><p>对于 <span class="application">pkgng</span> 包管理用户， 可使用：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg install kde4</code></strong></pre><p>从源代码安装 <span class="application">KDE</span> 可使用 ports tree：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/x11/kde4</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p>首次使用 Ports 安装， 会弹出一个菜单用于选择要使用选项， 推荐使用默认选项。</p><p><span class="application">KDE 4</span> 是个大型应用程序， 即使您的计算机性能很好也需要很长时间编译。</p><p>安装好 <span class="application">KDE</span> 之后， 还需通知 X 服务器启动它来替换默认的窗口管理器。
        这可以通过编辑 <code class="filename">.xinitrc</code> 文件来完成：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>echo "exec /usr/local/kde4/bin/startkde" &gt; ~/.xinitrc</code></strong></pre><p>现在，无论您何时使用 <code class="command">startx</code> 进入 X Window 系统，
        <span class="application">KDE</span> 都将成为您的默认桌面环境。</p><p>如果正在使用显示管理器，例如 <span class="application">XDM</span> ， 那么配置稍有不同， 需要编辑 <code class="filename">.xsession</code>文件。
        有关 <span class="application">KDM</span> 的用法会在这章的后面介绍。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-kde-details"></a>6.7.3. 有关 KDE 的更多细节</h3></div></div></div><p>现在 <span class="application">KDE</span> 已经被安装到系统中了， 通过帮助页面或点击多个菜单可以发现很多东西。
           <span class="trademark">Windows</span>® 或 <span class="trademark">Mac</span>® 用户会有种熟悉的感觉。</p><p>关于 <span class="application">KDE</span> 最好的参考资料是它的在线文档。 <span class="application">KDE</span> 拥有自己的网页浏览器：
          <span class="application">Konqueror</span> ， 还有很多其他的应用程序和丰富文档。这节的余下部分将讨论一些很难用走马观花的方法来学习的技术项目。</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-kde-kdm"></a>6.7.3.1. KDE 显示管理器</h4></div></div></div><a id="idp71464144" class="indexterm"></a><p>如果在同一系统上有多个用户， 则管理员通常会希望使用图形化的登录界面。 前面已经提到，
        使用 <a class="link" href="x-xdm.html" title="6.6. X 显示管理器">XDM</a> 可以完成这项工作。 不过， <span class="application">KDE</span> 本身也提供了另一个选择,
      即 <span class="application">KDM</span> ， 它的外观更富吸引力， 而且还提供了更多的登录选项。
      值得一提的是， 用户还能通过选择菜单轻易地选择希望使用的桌面环境 （<span class="application">KDE</span> 、
	  <span class="application">GNOME</span> 或者其它桌面。</p><p><span class="application">KDE 4</span> 需要启用 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=procfs&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">procfs</span>(5)</span></a> ， 添加以下这行到 <code class="filename">/etc/rc.conf</code> 文件中：</p><pre class="programlisting">kdm4_enable="YES"</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-xfce"></a>6.7.4. Xfce</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-xfce-about"></a>6.7.4.1. 关于 Xfce</h4></div></div></div><p><span class="application">Xfce</span> 是基于使用 <span class="application">GNOME</span> GTK+ 工具包的桌面环境，
        但是更加轻巧， 适合于那些需要一个易于使用和配置并且简单而高效的桌面的人。 它看起来非常像使用在商业 <span class="trademark">UNIX</span>® 系统上的 <span class="application">CDE</span> 桌面环境。
        <span class="application">Xfce</span> 主要以下特性：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>一个简单，易于使用的桌面</p></li><li class="listitem"><p>完全通过鼠标的拖动和按键来控制</p></li><li class="listitem"><p>与 <span class="application">CDE</span> 相似的主面板、 菜单、 挂件（applets）和应用程序启动器</p></li><li class="listitem"><p>集成窗口管理器、 文件管理器、 声音管理器、 <span class="application">GNOME</span> 应用模块等等</p></li><li class="listitem"><p>主题 （因为它使用GTK+）</p></li><li class="listitem"><p>快速， 轻便， 高效： 非常适合比较老的/性能差的计算机或内存有限的计算机</p></li></ul></div><p>更多有关 <span class="application">Xfce</span> 的信息可以参考 <a class="link" href="http://www.xfce.org/" target="_top">Xfce 网站</a> 。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x11-wm-xfce-install"></a>6.7.4.2. 安装 Xfce</h4></div></div></div><p>通过网络安装 <span class="application">Xfce</span> ， 只需输入：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add -r xfce4</code></strong></pre><p>如果是 <span class="application">pkgng</span> 包管理用户， 则使用：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg install xfce4</code></strong></pre><p>另外， 也可以使用 Ports Collection 从源代码编译安装：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/x11-wm/xfce4</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p>现在， 要告诉 X 服务器在下次X启动时执行 <span class="application">Xfce</span> 。
        只要执行以下命令：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>echo "/usr/local/bin/startxfce4" &gt; ~/.xinitrc</code></strong></pre><p>接下来就是启动 X ， <span class="application">Xfce</span> 将成为您的桌面。 与以前一样，
        如果使用像 <span class="application">XDM</span> 这样的显示管理器， 需要创建一个 <code class="filename">.xsession</code> 文件，
        就像 <a class="link" href="x11-wm.html#x11-wm-gnome" title="6.7.1. GNOME">GNOME</a>那节的介绍， 使用 <code class="filename">/usr/local/bin/startxfce4</code>命令，
        或者， 配置显示管理器允许在启动时选择一个桌面， 就像 <a class="link" href="x11-wm.html#x11-wm-kde-kdm" title="6.7.3.1. KDE 显示管理器">kdm</a> 那节的介绍。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="x-xdm.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="x11.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="x11-understanding.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">6.6. X 显示管理器 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6.8. 故障排除</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>