<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>4.9. Shells</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手册" /><link rel="up" href="basics.html" title="Chapter 4. UNIX 基础" /><link rel="prev" href="basics-daemons.html" title="4.8. 守护进程，信号和杀死进程" /><link rel="next" href="editors.html" title="4.10. 文本编辑器" /><link rel="copyright" href="legalnotice.html" title="版权声明" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.9. Shells</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-daemons.html">Prev</a> </td><th width="60%" align="center">Chapter 4. UNIX 基础</th><td width="20%" align="right"> <a accesskey="n" href="editors.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>4.9. Shells</h2></div></div></div><a id="idp70361552" class="indexterm"></a><a id="idp70362064" class="indexterm"></a><p>在FreeBSD里，每日有一大堆工作是在命令行的界面完成的,那就叫做shell。
    一个shell的主要功能就是从输入取得命令然后去执行他。
    许多的shell同样能帮我们完成内建的每日功能，例如:文件管理、文件寻找、命令行编辑、
    宏指令和环境变量。FreeBSD内含了一些shell，例如:<code class="command">sh</code>、Bourne Shell、
    <code class="command">tcsh</code>和改良过的C-shell。
    另外也有些shell也可在FreeBSD的Ports得到，例如:<code class="command">zsh</code>和<code class="command">bash</code>。
    </p><p>您想使用哪一种shell取决于您的喜好，
    假如您是C程序设计师，您可能选择一个C-like shell例如<code class="command">tcsh</code>。
    假如您是从Linux过来的或是一个命令行的新手，您可能会试一下<code class="command">bash</code>。
    这一点告诉我们每一个shell都有各自的特性，可能适用于您的工作环境，也可能不适用于您的工作环境。
     </p><p>每个shell都有一个共通点就是文件名补全。
          输入命令或文件名的前几个字，然后按<span class="keycap"><strong>Tab</strong></span>键，就能靠shell的自动补全功能得出
          命令或文件名。这里有一个例子，假设您有两个文件叫
      <code class="filename">foobar</code> 和<code class="filename">foo.bar</code>，而您想删除
      <code class="filename">foo.bar</code>，  可这样在键盘上输入
      <code class="command">rm fo[Tab].[Tab]</code>。</p><p>那么shell就会输出 <code class="command">rm
      foo[BEEP].bar</code>。</p><p>这个[BEEP] 是这控制台铃声， 那个是告诉我们它不能完成文件名补全，因为有多个文件名符合。
      <code class="filename">foobar</code> 和
      <code class="filename">foo.bar</code> 都是以 <code class="literal">fo</code>开头， 它只可以补全到
      <code class="literal">foo</code>。  输入
      <code class="literal">.</code>并再按一次 <span class="keycap"><strong>Tab</strong></span>，shell才把其余的文件名全部显示出来。
      </p><a id="idp70371792" class="indexterm"></a><p>另一个特点就是shell利用环境变量运行。环境变量是贮存在shell环境空间上相对应的键和可变值，
      这个空间能够补程序从shell里读出，而且包含了许多程序的配置。
      这个一个常用环境变量列和其含义的列表：</p><a id="idp70372688" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>变量</th><th>说明</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>当前登录进入的用户名。</td></tr><tr><td><code class="envar">PATH</code></td><td>搜索程序路径，以两点的冒号分隔开。</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>假如有这个变量的话，就是X11显示器的网络名称。
     </td></tr><tr><td><code class="envar">SHELL</code></td><td>当前所用的shell。</td></tr><tr><td><code class="envar">TERM</code></td><td>用户终端的名字，通常用在确定终端的能力。</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>各种终端功能所用终端分离编码的基本数据项目。</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>操作系统类型，默认是FreeBSD。</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>是指系统上运行的CPU体系结构。
	      </td></tr><tr><td><code class="envar">EDITOR</code></td><td>用户首选的文本编辑器。</td></tr><tr><td><code class="envar">PAGER</code></td><td>用户首选的文本页面调度程序 。</td></tr><tr><td><code class="envar">MANPATH</code></td><td>搜索联机手册路径，以两点的冒号分隔开。</td></tr></tbody></table></div><a id="idp70403024" class="indexterm"></a><p>不同的shell设置环境变量也不相同。举个例子，
      在如<code class="command">tcsh</code> 和 <code class="command">csh</code>这样的C-Style shell，
      您必须使用<code class="command">setenv</code>去设置环境变量。
      而在如<code class="command">sh</code>和<code class="command">bash</code>这样的Bourne shell，
      您必须使用<code class="command">export</code>去设置当前环境变量。
      再举个例子，要去设置或改变<code class="envar">EDITOR</code>环境变量，
      在<code class="command">csh</code>或<code class="command">tcsh</code>下将<code class="envar">EDITOR</code>设为
      <code class="filename">/usr/local/bin/emacs</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>而在Bourne shell下，则是:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>您也可以在命令行上加一个<code class="literal">$</code>字符在变量之前从而取得环境变量。
      举个例子，用<code class="command">echo $TERM</code> 就会显示出<code class="envar">$TERM</code>的设定值，
      其实就是shell取得<code class="envar">$TERM</code>并传给<code class="command">echo</code>来显示的。</p><p>shell里有许多特别的字符代表着特别的资料，我们把叫做meta-characters。
      最常用的就是<code class="literal">*</code>字符，它可代表文件名的任何字符。
      这些特别字符应用到文件名全域方面。假如，输入
      <code class="command">echo *</code>和输入
      <code class="command">ls</code>的效果是相同的，其实就是 shell 取得了全部符合
      <code class="literal">*</code>的文件名，并传给
      <code class="command">echo</code> 在命令行下显示出来。</p><p>为了防止shell去分析这些特别字符， 我们可在它之前加一个
      <code class="literal">\</code>字符去说明它只是普通字符。
      <code class="command">echo $TERM</code>就会显示出您的终端情况，
      而 <code class="command">echo \$TERM</code> 就会显示出 <code class="envar">$TERM</code>
      这几个字。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>4.9.1. 改变您用的Shell</h3></div></div></div><p>改变您的Shell的最简单方法是使用
	<code class="command">chsh</code> 命令。 执行 <code class="command">chsh</code> 将根据您设定的<code class="envar">EDITOR</code>
	环境变量进入到那个编辑器，假如没有设定，就会进入<code class="command">vi</code>编辑器。
	请改变<span class="quote">“<span class="quote">Shell:</span>”</span>这行对应值。</p><p>您可使用<code class="command">chsh</code> 的<code class="option">-s</code>选项，
	这样就能设置您的shell却又不用编辑器。假如您想把shell改为<code class="command">bash</code>
	可用下面的技巧。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">您使用的shells<span class="emphasis"><em>必须</em></span>
	  在<code class="filename">/etc/shells</code> 文件里列出。 假如您从
	  <a class="link" href="ports.html" title="Chapter 5. 安装应用程序: Packages 和 Ports">ports</a>里装一个shell， 那就不用做这步了。
	  假如您手工装一个shell，那就要手工添加进去。</p><p xmlns="http://www.w3.org/1999/xhtml">举个例了子，假如您手工把 <code class="command">bash</code>装到
	<code class="filename">/usr/local/bin</code>里，您还要进行这一步:
	</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">然后运行<code class="command">chsh</code>。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-daemons.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="editors.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.8. 守护进程，信号和杀死进程 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4.10. 文本编辑器</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>