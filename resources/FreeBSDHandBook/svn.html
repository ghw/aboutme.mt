<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>A.5. 使用 Subversion</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手册" /><link rel="up" href="mirrors.html" title="Appendix A. 获取 FreeBSD" /><link rel="prev" href="ctm.html" title="A.4. 使用 CTM" /><link rel="next" href="svn-mirrors.html" title="A.6. Subversion 镜像站" /><link rel="copyright" href="legalnotice.html" title="版权声明" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">A.5. 使用 <span class="application">Subversion</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ctm.html">Prev</a> </td><th width="60%" align="center">Appendix A. 获取 FreeBSD</th><td width="20%" align="right"> <a accesskey="n" href="svn-mirrors.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="svn"></a>A.5. 使用 <span class="application">Subversion</span></h2></div></div></div><a id="idp91255504" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="svn-intro"></a>A.5.1. 简介</h3></div></div></div><p>截至 2012 年 7 月， FreeBSD 已将所有储存 FreeBSD 源代码、 文档、
          Ports Collection 的主版本控制系统更换为 <a class="link" href="http://subversion.apache.org/" target="_top">Subversion</a> （ <span class="emphasis"><em>SVN</em></span> ）。</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Subversion 是个常见开发工具。 对于绝大部分用户都应该使用 <a class="link" href="updating-upgrading-freebsdupdate.html" title="23.2. FreeBSD 更新">FreeBSD 更新</a>
              FreeBSD 基本系统， 使用 <a class="link" href="updating-upgrading-portsnap.html" title="23.3. Portsnap： 一个 Ports Collection 更新工具">Portsnap</a> 更新
              FreeBSD Ports Collection 。</p></div><p>在 <span class="application">Subversion</span> 中， URL 用于指定一个仓库库， 采用 <em class="replaceable"><code>protocol://hostname/path</code></em> 形式，
          镜像也可能支持其它协议。 路径（path） 的第一部分是项目仓库种类， 主要有存储 FreeBSD 基本系统源码的 <code class="literal">base</code> 、 
          存储 Ports Collection 的 <code class="literal">ports</code> 和存储文档的 <code class="literal">doc</code> 这三个软件仓库。
          举个例子： <code class="literal">svn://svn0.us-east.FreeBSD.org/ports/head/</code> ，它指的是
          <code class="systemitem">svn0.us-east.FreeBSD.org</code> 镜像站上的 ports 仓库的主分支，
          使用 <code class="literal">svn</code> 协议。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="svn-install"></a>A.5.2. 安装</h3></div></div></div><p>要初始化仓库之前， 必须先安装 <span class="application">Subversion</span> 。
          如果 ports 树副本已建立， 则可以通过以下方法安装 <span class="application">Subversion</span> ：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/devel/subversion</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make install clean</code></strong></pre><p>如果 ports 树 不可用， 可以使用预编译包安装 <span class="application">Subversion</span> ：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg_add -r subversion</code></strong></pre><p>如果使用 <span class="application">pkgng</span> 作为包管理器， 则使用替换 <span class="application">Subversion</span> 安装命令：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pkg install devel/subversion</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="svn-usage"></a>A.5.3. 运行 <span class="application">Subversion</span></h3></div></div></div><p><code class="command">svn</code> 命令用来获取的源码的原始拷贝到本地目录。
          这个目录中的文件称为 <span class="emphasis"><em> 本地工作副本</em></span> 。</p><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml">如果本地目录已经存在， 但不是由 <code class="command">svn</code> 创建的， 那么请重命名或删除它。
              签入 （Checkout） 时， 如果非 <code class="command">svn</code> 目录， 则可能出现现存文件与软件仓库相冲突的情况。</p></div><p>从指定的软件仓库签入， 使用：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>svn checkout svn-mirror/repository/branch lwcdir</code></strong></pre><p>其中:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><em class="replaceable"><code>svn-mirror</code></em> 的 URL 可以从 <a class="link" href="svn-mirrors.html" title="A.6. Subversion 镜像站">Subversion 镜像站</a> 上获得。</p></li><li class="listitem"><p><em class="replaceable"><code>repository</code></em> 是项目仓库名称， 即： <code class="literal">base</code> 、
          <code class="literal">ports</code> 或 <code class="literal">doc</code> 。</p></li><li class="listitem"><p><em class="replaceable"><code>branch</code></em> 分支取决于使用哪个仓库库。
            <code class="literal">ports</code> 和 <code class="literal">doc</code> 一般使用 <code class="literal">head</code> 分支，
            而 <code class="literal">base</code> 最新的 -CURRENT 版本使用 <code class="literal">head</code> 分支，
            其它 -STABLE 则各自有个分支， 8.<em class="replaceable"><code>x</code></em> 使用 <code class="literal">stable/8</code> 、
            9.<em class="replaceable"><code>x</code></em> 使用 <code class="literal">stable/9</code> 和 10.<em class="replaceable"><code>x</code></em> 使用 <code class="literal">stable/10</code> 。</p></li><li class="listitem"><p><em class="replaceable"><code>lwcdir</code></em> 是存放分支内容的目标目录，
            通常使用 <code class="literal">ports</code> 使用 <code class="filename">/usr/ports</code> 、
            <code class="literal">base</code> 使用 <code class="filename">/usr/src</code> ，
            <code class="literal">doc</code> 则使用 <code class="filename">/usr/doc</code> 。</p></li></ul></div><p>本示例将从使用 <acronym class="acronym">HTTPS</acronym> 协议从位于美国西部的软件仓库中签出 Ports Collection ，
          将本地工作副本存放到 <code class="filename">/usr/ports</code> 中。 
          如果 <code class="filename">/usr/ports</code> 已存， 但不是 <code class="command">svn</code> 创建的，
          则签出前请重命名或删除它。</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>svn checkout https://svn0.us-west.FreeBSD.org/ports/head /usr/ports</code></strong></pre><p>因为初始化签出需要从远程仓库的获取分支的全部内容， 它可能需要一段时间。 请耐心等待。</p><p>初始化签出后， 本地工作副本更新：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>svn update lwcdir</code></strong></pre><p>要更新上面例子创建的 <code class="filename">/usr/ports</code> ， 使用：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>svn update /usr/ports</code></strong></pre><p>更新比签出快很多， 它只传输已更改的文件。</p><p>初始签出后， 提供了另一种更新方法，它们由 <code class="filename">/usr/ports</code> 、
          <code class="filename">/usr/src</code> 和 <code class="filename">/usr/doc</code> 下的 <code class="filename">Makefile</code> 提供的功能。
          通过添加 <code class="buildtarget">update</code> <code class="varname">SVN_UPDATE</code> 参数实现。
          示例更新 <code class="filename">/usr/src</code> ：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make update SVN_UPDATE=yes</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp91322192"></a>A.5.4. 了解更多信息</h3></div></div></div><p>如需使用 <span class="application">Subversion</span> 的其他信息，
          请参阅 <span class="quote">“<span class="quote">Subversion Book</span>”</span> ， 标题： <a class="link" href="http://svnbook.red-bean.com/" target="_top">Version Control with
              Subversion</a> 或者 <a class="link" href="http://subversion.apache.org/docs/" target="_top">Subversion Documentation</a> 。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ctm.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="mirrors.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="svn-mirrors.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">A.4. 使用 CTM </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> A.6. <span class="application">Subversion</span> 镜像站</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>