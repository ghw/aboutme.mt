<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>27.2. 使用电子邮件</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手册" /><link rel="up" href="mail.html" title="Chapter 27. 电子邮件" /><link rel="prev" href="mail.html" title="Chapter 27. 电子邮件" /><link rel="next" href="sendmail.html" title="27.3. sendmail 配置" /><link rel="copyright" href="legalnotice.html" title="版权声明" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.2. 使用电子邮件</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mail.html">Prev</a> </td><th width="60%" align="center">Chapter 27. 电子邮件</th><td width="20%" align="right"> <a accesskey="n" href="sendmail.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mail-using"></a>27.2. 使用电子邮件</h2></div></div></div><a id="idp85334224" class="indexterm"></a><a id="idp85334736" class="indexterm"></a><a id="idp85335248" class="indexterm"></a><p>邮件交换可以分为 5 部分。它们是：
      <a class="link" href="mail-using.html#mail-mua" title="27.2.1. 用户端程序">用户端程序</a>、<a class="link" href="mail-using.html#mail-mta" title="27.2.2. 邮件主机上使用的服务程序">服务端守护进程</a>、<a class="link" href="mail-using.html#mail-dns" title="27.2.3. Email 和 DNS">DNS</a>、<a class="link" href="mail-using.html#mail-receive" title="27.2.4. 接收邮件">远程或本地的邮箱</a>、
      当然，<a class="link" href="mail-using.html#mail-host" title="27.2.5. 邮件服务器">还有邮件主机自己</a>。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-mua"></a>27.2.1. 用户端程序</h3></div></div></div><p>这包括一些基于命令行的程序，例如
	<span class="application">mutt</span>、
	<span class="application">alpine</span>、<span class="application">elm</span>
	和 <code class="command">mail</code>，以及类似 <span class="application">balsa</span>、
	<span class="application">xfmail</span> 这样的 <acronym class="acronym">GUI</acronym> 程序。
	此外，还有我们更<span class="quote">“<span class="quote">熟悉的</span>”</span>WWW 浏览器这样的程序。
	这些程序简单地通过调用<a class="link" href="mail-using.html#mail-mta" title="27.2.2. 邮件主机上使用的服务程序">服务守护进程</a>把邮件事务交给本地的
	<a class="link" href="mail-using.html#mail-host" title="27.2.5. 邮件服务器"><span class="quote">“<span class="quote">邮件主机</span>”</span></a>，或者通过
	<acronym class="acronym">TCP</acronym> 把邮件发出去。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-mta"></a>27.2.2. 邮件主机上使用的服务程序</h3></div></div></div><a id="idp85357776" class="indexterm"></a><a id="idp85359056" class="indexterm"></a><a id="idp85360336" class="indexterm"></a><a id="idp85361744" class="indexterm"></a><p>FreeBSD 默认情况下采用 <span class="application">sendmail</span>，
	但它也支持为数众多的其它邮件服务程序，
	这其中包括：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">exim</span>;</p></li><li class="listitem"><p><span class="application">postfix</span>;</p></li><li class="listitem"><p><span class="application">qmail</span>.</p></li></ul></div><p>邮件服务器后台守护程序通常有两个功能 ──
	接收外面发来的邮件和把邮件传送出去。 但它
	<span class="emphasis"><em>不</em></span> 负责使用类似
	<acronym class="acronym">POP</acronym> 或 <acronym class="acronym">IMAP</acronym> 这样的协议来帮您阅读邮件，
	也不负责连接到本地的
	<code class="filename">mbox</code> 或 Maildir 信箱。 您可能需要其它的
	<a class="link" href="mail-using.html#mail-receive" title="27.2.4. 接收邮件">服务程序</a> 来完成这些任务。</p><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml">较早版本的 <span class="application">sendmail</span>
	  有一些严重的安全问题， 他们可能导致攻击者从本地和/或远程操作您的电脑。
	  您应该确认自己使用的是最新版本以避免这些问题。
	  另外， 也可以从 <a class="link" href="ports.html" title="Chapter 5. 安装应用程序: Packages 和 Ports">FreeBSD
	  Ports Collection</a> 来安装其它的
	  <acronym class="acronym">MTA</acronym>。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-dns"></a>27.2.3. Email 和 DNS</h3></div></div></div><p>域名系统 (DNS) 及其服务程序
        <code class="command">named</code> 在email的投递过程当中扮演着很重要的角色。
	为了能够从您的站点向其它的站点传递邮件， 服务程序需要通过 DNS 查找接收邮件的远程站点的位置。
	类似地， 在远程站点向您的主机投递邮件时也会发生这样的查找。</p><a id="idp85381840" class="indexterm"></a><p><acronym class="acronym">DNS</acronym> 负责将主机名映射为 IP 地址，
	同时， 也需要保存递送邮件时所需要的信息， 这些信息称作 MX 记录。
	MX (Mail eXchanger，邮件交换) 记录指定了哪个， 或哪些主机能够接收特定域下的邮件。
	如果您没有为主机名或域名设置 MX 记录， 则邮件将被直接递交给主机名对应 IP 所在的主机。</p><p>您可以通过
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=host&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">host</span>(1)</span></a> 命令来查找任何域或主机名对应的 MX 记录， 如下面的例子所示：</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>host -t mx FreeBSD.org</code></strong>
FreeBSD.org mail is handled (pri=10) by mx1.FreeBSD.org</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-receive"></a>27.2.4. 接收邮件</h3></div></div></div><a id="idp85386448" class="indexterm"></a><p>为您的域接收邮件是通过邮件服务器来完成的。
	它收集发送给您的域的那些邮件，并保存到
	<code class="filename">mbox</code> (存储邮件默认的方法) 或 Maildir 格式，
	这取决于您采用的配置。
	一旦邮件被保存下来， 就可以在本地通过类似
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mail&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mail</span>(1)</span></a> 或
	<span class="application">mutt</span> 这样的程序， 或在远程通过
	<acronym class="acronym">POP</acronym> 或 <acronym class="acronym">IMAP</acronym> 这样的协议来读取了。
	简单地说， 如果您只在本地阅读邮件，那就没有必要安装
	<acronym class="acronym">POP</acronym> 或 <acronym class="acronym">IMAP</acronym> 服务。</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pop-and-imap"></a>27.2.4.1. 通过 <acronym class="acronym">POP</acronym> 和 <acronym class="acronym">IMAP</acronym> 访问远程的邮件</h4></div></div></div><a id="idp85392720" class="indexterm"></a><a id="idp85393232" class="indexterm"></a><p>如果希望在远程访问邮箱， 就需要访问
	  <acronym class="acronym">POP</acronym> 或 <acronym class="acronym">IMAP</acronym>
	  服务器。 这些协议允许用户从远程方便地访问他们的信箱。 尽管
	  <acronym class="acronym">POP</acronym> 和 <acronym class="acronym">IMAP</acronym> 都允许用户从远程访问信箱，
	  但 <acronym class="acronym">IMAP</acronym> 有很多优点， 这包括：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><acronym class="acronym">IMAP</acronym> 既可以从远程服务器上抓取邮件， 也可以把邮件放上去。</p></li><li class="listitem"><p><acronym class="acronym">IMAP</acronym> 支持并发更新。</p></li><li class="listitem"><p><acronym class="acronym">IMAP</acronym> 对于使用低速网络的用户尤为有用，
	      因为它能够让这些用户把邮件的结构下载下去， 而无需立即下载整个邮件。
	      它还可以在服务器端执行类似查找这样的操作， 以减少客户机和服务器之间的通讯量。</p></li></ul></div><p>您可以按照下面的步骤来安装和配置 <acronym class="acronym">POP</acronym> 或
	  <acronym class="acronym">IMAP</acronym> 服务器：</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>选择一个最符合需要的 <acronym class="acronym">IMAP</acronym> 或
	      <acronym class="acronym">POP</acronym> 服务器。
	      下列 <acronym class="acronym">POP</acronym> 和
	      <acronym class="acronym">IMAP</acronym> 服务器是最著名的， 而且都有很多成功案例：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="application">qpopper</span>;</p></li><li class="listitem"><p><span class="application">teapop</span>;</p></li><li class="listitem"><p><span class="application">imap-uw</span>;</p></li><li class="listitem"><p><span class="application">courier-imap</span>;</p></li><li class="listitem"><p><span class="application">dovecot</span>;</p></li></ul></div></li><li class="step"><p>通过 ports collection 安装 <acronym class="acronym">POP</acronym> 或
	      <acronym class="acronym">IMAP</acronym> 服务。</p></li><li class="step"><p>根据需要修改 <code class="filename">/etc/inetd.conf</code>
	      来加载 <acronym class="acronym">POP</acronym> 或
	      <acronym class="acronym">IMAP</acronym> 服务。</p></li></ol></div><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml">此外还应注意的是 <acronym class="acronym">POP</acronym> 和
	    <acronym class="acronym">IMAP</acronym> 传递的信息， 包括用户名和口令等等，
	    通常都是明文的。 这意味着如果您希望加密传输过程中的信息，
	    可能需要考虑使用 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> 隧道或者使用SSL。 关于如何实施隧道在
	    <a class="xref" href="openssh.html#security-ssh-tunneling" title="14.10.8. SSH 隧道">Section 14.10.8, “SSH 隧道”</a> 中进行了详细阐述，
	      SSL 部分在<a class="xref" href="openssl.html" title="14.8. OpenSSL">Section 14.8, “OpenSSL”</a>。</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="local"></a>27.2.4.2. 操作本地的信箱</h4></div></div></div><p>信箱可以在邮件服务器本地直接用
	  <acronym class="acronym">MUA</acronym> 来进行操作。
	  这通常是通过
	  <span class="application">mutt</span> 或 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mail&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mail</span>(1)</span></a> 这样的应用程序实现的。
	</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mail-host"></a>27.2.5. 邮件服务器</h3></div></div></div><a id="idp85428176" class="indexterm"></a><p>邮件服务器是通过服务器给的一个名字 (译注：来识别主机)， 这也正是它能在您的主机和网络上发送和接收邮件的原因。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mail.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="mail.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="sendmail.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 27. 电子邮件 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 27.3. <span class="application">sendmail</span> 配置</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>