<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>18.8. 创建和使用软盘</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 使用手册" /><link rel="up" href="disks.html" title="Chapter 18. 存储" /><link rel="prev" href="creating-dvds.html" title="18.7. 创建和使用光学介质(DVD)" /><link rel="next" href="backups-tapebackups.html" title="18.9. 用磁带机备份" /><link rel="copyright" href="legalnotice.html" title="版权声明" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">18.8. 创建和使用软盘</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="creating-dvds.html">Prev</a> </td><th width="60%" align="center">Chapter 18. 存储</th><td width="20%" align="right"> <a accesskey="n" href="backups-tapebackups.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="floppies"></a>18.8. 创建和使用软盘</h2></div><div><span class="authorgroup">原作 <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Julio</span> <span class="surname">Merino</span></span>. </span></div><div><span class="authorgroup">重写 <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Martin</span> <span class="surname">Karlsson</span></span>. </span></div></div></div><p>把数据存储在软盘上有时也是十分有用的。
      例如， 在没有其它可靠的存储介质，
      或只需将少量数据传到其他计算机时。</p><p>这一章将介绍怎样在 FreeBSD 上使用软盘。
      在使用 DOS 3.5 英寸软盘时首要要涉及的就是格式化，
      但其概念与其它的软盘格式化极为类似。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80097104"></a>18.8.1. 格式化软盘</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80097744"></a>18.8.1.1. 设备</h4></div></div></div><p>软盘的访问像其它设备一样是通过在
	  <code class="filename">/dev</code> 中的条目来实现的。
	  直接访问软盘时， 只需简单地使用
	  <code class="filename">/dev/fdN</code> 来表示。</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80099664"></a>18.8.1.2. 格式化</h4></div></div></div><p>一张软盘在使用这前必须先被低级格式化。
	  通常卖主已经做过了，但格式化是检测介质完整性的一种好方法。
	  尽管这有可能会强取大量（或少量）的硬盘大小，但
	  大部分磁盘都能被格式化设计为 1440kB 。</p><p>低级格式化软盘你需要使用
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdformat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">fdformat</span>(1)</span></a> 命令。这个程序需要设备名作为参数。</p><p>要留意一切错误信息，这些信息能够帮助你确定
	    磁盘的好与坏。</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80102352"></a>18.8.1.2.1. 软盘的格式化</h5></div></div></div><p>使用
	    <code class="filename">/dev/fdN</code>
	    设备来格式化软盘。插入一张新的 3.5 英寸的软盘在你的设备中：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/sbin/fdformat -f 1440 /dev/fd0</code></strong></pre></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80105040"></a>18.8.2. 磁盘标签</h3></div></div></div><p>经过低级格式化后， 你需要给它分配一个标签。
	这个磁盘标签以后会被删去， 但系统需要使用它来确定磁盘的尺寸。</p><p>新的磁盘标签将会接管整个磁盘，会包括所有合适的关于软盘的 geometry 信息。
	磁盘标签的 geometry 值列在
	<code class="filename">/etc/disktab</code>中。</p><p>现在可以用下面的方法来使用 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a> 了：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/bsdlabel -B -w /dev/fd0 fd1440</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80109008"></a>18.8.3. 文件系统</h3></div></div></div><p>现在对软盘进行高级格式化。
	这会在它上面安置一个新的文件系统，可使 FreeBSD 来对它进行读写。
	在创建完新的文件系统后，磁盘标签将被消毁，所以如果你想重新格式化磁盘，
	你必须重新创建磁盘标签。</p><p>软盘的文件系统可以选择 UFS 或 FAT 。
	 FAT 是通常情况下软盘比较好的选择。</p><p>要制作新的文件系统在软盘上，可以使用下面的命令：</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/sbin/newfs_msdos /dev/fd0</code></strong></pre><p>现在磁盘已经可以进行读取和使用。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80112336"></a>18.8.4. 使用软盘</h3></div></div></div><p>要使用软盘，需要先使用 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount_msdosfs</span>(8)</span></a> 挂接它。
	除此之外， 也可以使用在 ports 套件中的
	<span class="package">emulators/mtools</span> 程序。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="creating-dvds.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="backups-tapebackups.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">18.7. 创建和使用光学介质(DVD) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 18.9. 用磁带机备份</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文档和其它文档可从这里下载：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>.</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>如果对于FreeBSD有问题，请先阅读
    <a href="http://www.FreeBSD.org/docs.html">文档</a>，如不能解决再联系
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    关于本文档的问题请发信联系
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>